<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact / Kontakt - JobsPerHourBerlin.de</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="logo">
    <img src="logo.png" alt="JobsPerHourBerlin Logo">
  </div>
  <nav>
    <ul>
      <li><a href="index.html">Home / Startseite</a></li>
      <li><a href="find-job.html">Find a Job / Job Finden</a></li>
      <li><a href="about.html">About Us / Ãœber Uns</a></li>
      <li><a href="contact.html">Contact / Kontakt</a></li>
      <li><a href="login.html">Login</a></li>
      <li><a href="signup.html">Sign Up</a></li>
    </ul>
  </nav>
</header>

<section class="hero"><h2>Post a Job / Kontaktformular</h2></section>

<section style="padding:20px; text-align:center;">
  <button id="toggleLang">Deutsch / English</button>
</section>

<section id="job-listings" style="padding:40px; max-width:900px; margin:auto;">
  <!-- Jobs will be loaded here -->
</section>

<section id="post-job" style="padding:40px; max-width:900px; margin:auto;">
  <h3>Post a Job / Jobanzeige einreichen</h3>
  <iframe 
      src="https://forms.gle/4qC5AjqPeNPBJUaT8" 
      width="100%" 
      height="1200" 
      frameborder="0" 
      marginheight="0" 
      marginwidth="0">
      Loadingâ€¦
  </iframe>
</section>

<footer>
  <p>Â© 2025 JobsPerHourBerlin.de | All Rights Reserved</p>
  <div class="social-icons">
    <a href="#">ðŸ“· Instagram</a>
    <a href="#">ðŸ’¼ LinkedIn</a>
    <a href="#">ðŸ“˜ Facebook</a>
  </div>
</footer>

<script>
let lang = 'EN'; // Default language
const SHEET_ID = "10uXwNU7e5cls3F6aU0RHj9EIk92Qv6nABNzngzA1qow";
const SHEET_URL = `https://spreadsheets.google.com/feeds/list/${SHEET_ID}/od6/public/values?alt=json`;

document.getElementById('toggleLang').addEventListener('click', () => {
    lang = (lang === 'EN') ? 'DE' : 'EN';
    loadJobs();
});

async function loadJobs() {
    const container = document.getElementById('job-listings');
    container.innerHTML = 'Loading jobs...';

    try {
        const response = await fetch(SHEET_URL);
        const data = await response.json();
        const entries = data.feed.entry;

        container.innerHTML = '';
        entries.forEach(entry => {
            const title = (lang === 'EN') ? entry.gsx$jobtitleen.$t : entry.gsx$jobtitlede.$t;
            const company = entry.gsx$company.$t;
            const wage = entry.gsx$hourlywage.$t;
            const location = entry.gsx$location.$t;
            const contact = entry.gsx$contact.$t;
            const description = (lang === 'EN') ? entry.gsx$descriptionen.$t : entry.gsx$descriptionde.$t;

            const card = document.createElement('div');
            card.className = 'job-card';
            card.innerHTML = `
                <h3>${title} - ${company}</h3>
                <p><strong>${wage}</strong> - ${location}</p>
                <p>${description}</p>
                <p>Contact: <a href="mailto:${contact}">${contact}</a></p>
            `;
            container.appendChild(card);
        });
    } catch (err) {
        container.innerHTML = 'Failed to load jobs. Please try again later.';
        console.error(err);
    }
}

// Initial load
loadJobs();
</script>

</body>
</html>
